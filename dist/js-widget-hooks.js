/*! js-widget-hooks - v2.0.5 - 2019-06-06 
 *  A standardized way to initialize and handle clientside widgets. Helps to keep them organized and only to load them if the code should realy be executed. It provides a strong linking of the actual html code with the executed javascript without much hassle.
 */
"use strict";!function(a,b){"object"==typeof module&&module.exports?module.exports=b():"function"==typeof define&&define.amd?define([],b):a.Widgets=b()}(this,function(){var a=function(){"object"==typeof console&&(arguments[0]="[js-widget-hooks] "+arguments[0],console.error.apply(console,arguments))};return{widgetClass:"widget",widgetDataName:"widgets",scriptClass:"dyn-script",vars:{},registered:{},registeredFinalls:{},register:function(b,c,d){this.registered[b]&&a("[WARNING] Widget "+b+" was already registered: Override."),this.registered[b]=[c,d]},setOptions:function(a){a&&["widgetClass","scriptClass","widgetDataName"].forEach(function(b){void 0!==a[b]&&(this[b]=a[b])}.bind(this))},init:function(b,c){var d,e,f=[],g={},h=[],i=this;this.setOptions(c);for(d in this.registered)f[f.length]=[d,this.registered[d][1]],g[d]=[];f.sort(function(a,b){return void 0!==a[1]&&void 0===b[1]?-1:void 0===a[1]&&void 0!==b[1]?1:a[1]<b[1]?1:a[1]>b[1]?-1:0}),b||(b=document.querySelector("body")),b||a("No root element could be found - is the DOM loaded already?"),b.querySelectorAll("."+i.widgetClass).forEach(function(b){var c=i.widgetDataName,d=b.dataset[c],e=0;d?d.split(" ").forEach(function(c){void 0!==g[c]?(g[c].push(b),e++):(a("No method for widget "+c+" provided on %o",b),b.classList.add(i.widgetClass+"-config-error"))}):(a("missing data-"+c+" attribute on %o",b),b.classList.add(i.widgetClass+"-config-error")),e||b.classList.remove(i.widgetClass)}),f.forEach(function(a){var b=a[0],c=g[b];c.forEach(function(a){h[h.length]=a,i.initSpecific(a,b)}),i.registeredFinalls[b]&&i.registeredFinalls[b](),delete g[b]});for(e in h)h[e].classList.remove(this.widgetClass)},initSpecific:function(b,c,d){var e=this;try{(b.classList.contains(e.widgetClass)||d)&&(this.registered[c][0](b),b.classList.add(e.widgetClass+"-initialized"))}catch(d){return a("Error during execution of widget %o "+c+": "+d.message,b),b.classList.add(e.widgetClass+"-error"),!1}return!0}}});